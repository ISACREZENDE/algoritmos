<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Labirinto com Backtracking</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #f4f4f4;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      margin: 0;
  }
  
  .container {
      text-align: center;
      background-color: #fff;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
  }
  
  #tabuleiro {
      display: grid;
      margin-top: 20px;
      gap: 2px;
  }
  
  .celula {
      width: 40px;
      height: 40px;
      display: flex;
      justify-content: center;
      align-items: center;
      background-color: #ddd;
      border: 1px solid #ccc;
  }
  
  .rainha {
      font-size: 24px;
      color: #ff6347;
  }
  </style>
  
</head>
<body>
  <div class="container">
    <h1>Problema das N Rainhas</h1>
    <label for="n">Tamanho do tabuleiro (N x N):</label>
    <input type="number" id="n" min="1" max="10" value="8">
    <button onclick="resolverProblema()">Resolver</button>
    
    <!-- Mensagem de carregamento -->
    <div id="mensagem" class="mensagem"></div>
    
    <!-- Tabuleiro -->
    <div id="tabuleiro"></div>
</div>
  <script>
    function resolverProblema() {
      const n = parseInt(document.getElementById('n').value);
      const tabuleiro = document.getElementById('tabuleiro');
      tabuleiro.innerHTML = ''; // Limpa o tabuleiro anterior
  
      // Cria um tabuleiro vazio (matriz N x N)
      const matriz = Array.from({ length: n }, () => Array(n).fill(0));
  
      // Função para verificar se é seguro colocar uma rainha em uma posição
      function ehSeguro(linha, coluna) {
          // Verifica a coluna
          for (let i = 0; i < linha; i++) {
              if (matriz[i][coluna] === 1) return false;
          }
  
          // Verifica a diagonal superior esquerda
          for (let i = linha, j = coluna; i >= 0 && j >= 0; i--, j--) {
              if (matriz[i][j] === 1) return false;
          }
  
          // Verifica a diagonal superior direita
          for (let i = linha, j = coluna; i >= 0 && j < n; i--, j++) {
              if (matriz[i][j] === 1) return false;
          }
  
          return true;
      }
  
      // Função recursiva para resolver o problema
      function resolver(linha) {
          if (linha >= n) return true; // Todas as rainhas foram colocadas
  
          for (let coluna = 0; coluna < n; coluna++) {
              if (ehSeguro(linha, coluna)) {
                  matriz[linha][coluna] = 1; // Coloca a rainha
  
                  // Tenta resolver para a próxima linha
                  if (resolver(linha + 1)) return true;
  
                  matriz[linha][coluna] = 0; // Remove a rainha (backtracking)
              }
          }
  
          return false; // Não há solução para esta configuração
      }
  
      // Tenta resolver o problema a partir da primeira linha
      if (resolver(0)) {
          // Exibe o tabuleiro com as rainhas
          tabuleiro.style.gridTemplateColumns = `repeat(${n}, 40px)`;
          for (let i = 0; i < n; i++) {
              for (let j = 0; j < n; j++) {
                  const celula = document.createElement('div');
                  celula.classList.add('celula');
                  if (matriz[i][j] === 1) {
                      celula.innerHTML = '♕';
                      celula.classList.add('rainha');
                  }
                  tabuleiro.appendChild(celula);
              }
          }
  
          // Volta ao início após 3 segundos
          setTimeout(() => {
              tabuleiro.innerHTML = ''; // Limpa o tabuleiro
              document.getElementById('n').value = ''; // Limpa o campo de entrada
          }, 3000); // 3000 milissegundos = 3 segundos
      } else {
          alert('Não há solução para este tamanho de tabuleiro.');
      }
  }
  </script>
</body>
</html>
